<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<title>AsA | Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Style -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
*{
  padding: 0;
  margin: 0;
  text-decoration: none;
  list-style: none;
  box-sizing: border-box;
}
body, html{
  font-family: montserrat;
  font-family: "Lato", sans-serif;
  scroll-behavior: smooth;
  background-color: gray;
}
/* mobile nav */
.nav_open{
  width: 100%;
  height: 100px;
  background: red;
}
.nav_open span{
  float: right;
}
.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
  text-align:center;
}
.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #fff;
  display: block;
}
.sidenav a:not(:first-child){
  margin-top: 70px;
}
.sidenav a:hover{
  color: #f1f1f1;
}
.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}
/* desktop nav */
.topnav {
  overflow: hidden;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
}
.topnav a{
  position: relative;
  right: 0;
  display: none;
  color: #818181;
  text-align: center;
  float: right; 
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}
.topnav a:hover {
  color: #f1f1f1;
  color: black;
}
.topnav .icon {
  display: none;
  color: black;
}
.active {
  background-color: #6759ff;
  color: #ffffff;
}
.sticky {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1;
}
#logo{
  position: relative;
  top: 7.5px;
  line-height: 80px;
  padding: 0 10px;
  font-size: 35px;
  font-weight: 600;
  font: 8vw Azonix Regular !important;
  font: 11.25vw Roboto;
  background: -webkit-linear-gradient(115deg, #f90a70 10%, #d37aec 46%, #09e5dc 70%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-stroke: 6px transparent;
  color: rgba(1 1 1 / 85%);
  letter-spacing: 10px;
}
/* body */
section{
  margin-top: 65px;
  background-size: cover;
  height: calc(100vh - 80px);
}
/* footer */
.footer-basic {
  margin-top: 10px;
  padding:40px 0;
  color: #4b4c4d;
  background: transparent;
}
.footer-basic ul {
  padding:0;
  list-style:none;
  text-align:center;
  font-size:18px;
  line-height:1.6;
  margin-bottom:0;
}
.footer-basic li {
  padding:0 10px;
}
.footer-basic ul a {
  color: #fff;
  text-decoration:none;
  opacity:0.8;
}
.footer-basic ul a:hover {
  opacity:1;
}
.footer-basic .social {
  text-align:center;
  padding-bottom:25px;
}
.footer-basic .social > a {
  font-size:24px;
  width:40px;
  height:40px;
  line-height:40px;
  display:inline-block;
  text-align:center;
  border-radius:50%;
  border:1px solid #ccc;
  margin:0 8px;
  color: #fff;
  opacity:0.75;
}
.footer-basic .social > a:hover {
  opacity:0.9;
}
.footer-basic .copyright {
  margin-top:15px;
  text-align:center;
  font-size:13px;
  color:#aaa;
  margin-bottom:0;
}
#footer_logo {
  position: relative;
  top: 15px;
  line-height: 80px;
  padding: 0 100px;
  font-size: 35px;
  font-weight: 600;
  font: 8vw Azonix Regular !important;
  font: 11.25vw Roboto;
  background: -webkit-linear-gradient(115deg, #f90a70 10%, #d37aec 46%, #09e5dc 70%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-stroke: 6px transparent;
  color: rgba(1 1 1 / 85%);
  letter-spacing: 10px;
}
/* Mobile */
@media only screen and (min-width: 600px) {
#logo{
  position: relative;
  top: 7.5px;
  left: 310px;
  line-height: 10px;
  padding: 0 10px;
  font-size: 10px;
  font-weight: 300;
  font: 8vw Azonix Regular !important;
  font: 11.25vw Roboto;
  background: -webkit-linear-gradient(115deg, #f90a70 10%, #d37aec 46%, #09e5dc 70%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-stroke: 6px transparent;
  color: rgba(1 1 1 / 85%);
  letter-spacing: 10px;
}
.topnav .links {
  display: flex;
  justify-content: space-around;
}
.topnav .links li {
  list-style: none;
}
.topnav .links a {
  display: block;
  padding: 1em;
  font-size: 25px;
  font-weight: bold;
  text-decoration: none;
  color: white;
}
.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  text-align: center;
  display: block;
}
section{
  margin-top: 196px;  
  background-size: cover;
  height: calc(100vh - 80px);
}
.footer-basic {
  margin-top: 10px;
  padding: 40px 0;
  background: transparent;
}
}
/* Desktop */
@media screen and (max-width: 600px) {
.topnav a:not(:first-child) {
  display: none;
}
.topnav a.icon {
  float: right;
  display: block;
}
.topnav.responsive {
  position: relative;
}
.topnav.responsive .icon {
  position: absolute;
  right: 0;
  top: 0;
}
.topnav.responsive a {
  float: none;
  display: block;
  text-align: left;
}
.sidenav {
  padding-top: 15px;
}
.sidenav a {
  font-size: 18px;
}
}
.main_text_container{
  display: flex;
  justify-content: center;
  align-items: center;
}
.main_text {
  position: relative;
  width: 200px;
  height: 200px;
  background: linear-gradient(
  #44a2f0, #025eaa);
  box-shadow: 15px 20px 30px rgba(0, 0, 0, 0.15);
  border-radius: 74% 26% 80% 20% / 25% 71% 29% 75%;
  color: transparent;
  -webkit-text-stroke: 2px black;
  mix-blend-mode: screen;
}
.main_text h1{
  position: relative;
  top: 35%;
  text-align: center;
  font-size: 50px;
}



/* cards */
.image-container {
  text-align: center;
}
img {
  max-width: 100%;
  object-fit: contain;
  height: 15em;
}
.container {
  padding-top: 1em;
  color: #110f29;
}
.hide {
  display: none;
}
#products_main {
  display: grid;
  grid-template-columns: auto auto auto;
  grid-column-gap: 1.5em;
  padding: 2em 0;
}
.card-p {
  position: relative;
  left: 5%;
  background-color: #ffffff;
  max-width: 18em;
  margin-top: 1em;
  padding: 1em;
  border-radius: 5px;
  box-shadow: 1em 2em 2.5em rgba(1, 2, 68, 0.08);
  border-width: 4px;
  border-style: solid;
  border-image: linear-gradient(to right, darkblue, darkorchid) 1;
}
@media screen and (max-width: 720px) {
  img {
    max-width: 100%;
    object-fit: contain;
    height: 10em;
  }
  .card-p {
    max-width: 10em;
    margin-top: 1em;
  }
  #products_main {
    grid-template-columns: auto auto;
    grid-column-gap: 1em;
  }
}
.buyBTN {
  width: 100%;
  border-radius: 25px;
  color: black;
  background-color: orange;
  background: linear-gradient(white, white) padding-box,
  linear-gradient(to right, darkblue, darkorchid)border-box;
  border-radius: 50em;
  border: 4px solid transparent;
}
#search-container {
  position: relative;
  left: 10px;
  margin: 1em 0;
}
#search-container input {
  background-color: white;
  width: 40%;
  border-bottom: 2px solid #110f29;
  padding: 1em 0.3em;
}
#search-container input:focus {
  border-bottom-color: #6759ff;
}
#search-container button {
  padding: 1em 2em;
  margin-left: 1em;
  background-color: #6759ff;
  color: #ffffff;
  border-radius: 5px;
  margin-top: 0.5em;
}
#buttons{
  position: relative;
  left: 10px;
}
.button-value {
  border: 2px solid #6759ff;
  padding: 1em 2.2em;
  border-radius: 3em;
  background-color: transparent;
  
  color: #6759ff;
  background-color: white;
  cursor: pointer;
}
.active_search{
  background-color: #6759ff;
  color: #ffffff;
}
.hide{
  display: none;
}




@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@200;300;400;500;600&display=swap');

.products-preview{
   position: fixed;
   top:0; 
   left:0;
   min-height: 100vh;
   width: 100%;
   background: rgba(0,0,0,.8);
   display: none;
   align-items: center;
   justify-content: center;
}

.preview{
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  transition: 200ms ease-in-out;
  border: 1px solid black;
  border-radius: 10px;
  z-index: 10;
  background-color: white;
  width: 500px;
  max-width: 80%;
}

.product_buy{
   transform: translate(-50%, -50%) scale(1)
}

.preview img{
   height: 30rem;
}
.preview h2, .preview h4, .preview p{
  position: relative;
  left: 2.5px;
}
.buttons{
  position: relative;
  bottom: 2.5px;
}
.buttons button{
   width: 35%;
   height: 50px;
   color: #444;
   border: 0.1rem solid #444;
   position: relative;
   margin-left: 10%;
}
.cancle{
   background: gray;
   color: white;
}

.cancle:hover{
   background: #111;
}
.buy{
  color: white;
  background-color: darkcyan;
}
.buy:hover{
   background: #444;
   color: white;
}

.preview .cancle_buy{
   position: absolute;
   bottom: 39px; 
   right: 3px;
   cursor: pointer;
   color:#444;
   font-size: 44px;
}
.confirmed_buy, .unconfirmed_buy{
  position: absolute;
  bottom: 1px;
  right: 3px;
  cursor: pointer;
  color:#444;
  font-size: 44px;
}
@media (max-width:768px){
    .preview img{
      height: 25rem;
   }
}



#overlay {
  position: fixed;
  opacity: 0;
  transition: 200ms ease-in-out;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, .5);
  pointer-events: none;
}

#overlay.product_overlay {
  opacity: 1;
  pointer-events: all;
}


#paypal-payment-button{
  width: 1px;
}
</style>
</head>
<body>
<!-- mobile  -->
<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="NAV()">&times;</a>
  <a id="/home1" href="/">Home</a>
  <a id="/shop1" href="/shop">Shop</a>
  <a id="/about1" href="/about">About</a>
  <a id="/support1" href="/support">Support</a>
</div>
<!-- desktop -->
<div class="topnav sticky" id="myTop">
  <label onclick="home()" id="logo">AsA</label>
  <a href="javascript:void(0);" class="icon" onclick="NAV(open)">
  <i class="fa fa-bars"></i></a>
  <ul class="links">
    <li><a id="/home2" href="/">Home</a></li>
    <li><a id="/shop2" href="/shop">Shop</a></li>
    <li><a id="/about2" href="/about">About</a></li>
    <li><a id="/support2" href="/support">Support</a></li>
    </ul>
</div>
<section>
<!-- body -->
<div class="main_text_container">
<div class="main_text">
  <h1 id="text"></h1>
</div>
</div>
    <!-- cards -->
      <div id="search-container">
        <input
          type="search"
          id="search-input"
          placeholder="Search product name here.."
        />
        <button id="search">Search</button>
      </div>
      <div id="buttons">
        <button class="button-value" onclick="filterProduct('all')">All</button>
        <button class="button-value" onclick="filterProduct('games')">
          Games
        </button>
        <button class="button-value" onclick="filterProduct('roblox')">
          Roblox
        </button>
        <button class="button-value" onclick="filterProduct('streaming')">
          Streaming
        </button>
      </div>
    <div id="products_main"></div>
<div id="products-preview">
  
  <div class="preview" data-target="buy">
    <h2>Confirm Buy</h2>
  <div class="buttons">
    <a class="cancle_buy" onclick="buy_close(this)" data-name="buy">x</a>
    <div id="paypal-payment-button"></div>
    </div>
  </div>
  
  <div class="preview" data-target="confirmed_buy">
    <h2>Buy confirmed</h2>
    <a class="confirmed_buy" onclick="buy_close(this)" data-name="confirmed_buy">x</a>
  </div>
  
  <div class="preview" data-target="unconfirmed_buy">
    <h2>Buy not confirmed</h2>
    <a class="unconfirmed_buy" onclick="buy_close(this)" data-name="unconfirmed_buy">x</a>
  </div>
</div>
<div id="overlay"></div>
<!-- footer -->
<div class="footer-basic">
  <footer>
  <div class="social">
    <label onclick="home()" id="footer_logo">AsA</label></div>
<ul class="list-inline">
  <li class="list-inline-item"><a id="/home3" href="/">Home</a></li>
  <li class="list-inline-item"><a id="/shop3" href="/shop">Shop</a></li>
  <li class="list-inline-item"><a id="/about3" href="/about">About</a></li>
  <li class="list-inline-item"><a id="/support3" href="/support">Support</a></li>
  <li class="list-inline-item"><a id="/terms3" href="/terms">Terms</a></li>
</ul>
<p class="copyright">
AsA © 2022
<br/>
All rights reserved.</p>
    </footer>
  </div>
</section>
<!-- Script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
<script src="https://www.paypal.com/sdk/js?client-id=AVa3LfeUTKU9nuA8wCutkRQtFwGWKiRhokqiB0rFF1fH4sdtN7q0lHiXs7esdPBdOtOCsezTWw8gLp-m&components=buttons&disable-funding=credit,card,venmo,sepa,bancontact,eps,giropay,ideal,mercadopago,mybank,p24,sofort"></script>
<script>
// check release localStorage.getItem("release") ? "checked" : location.href = "/shop"
// sleep 
function sleep(ms) {
return new Promise(resolve => setTimeout(resolve, ms));
}
// navbar open/close
async function NAV(message) {
  if(message){
  document.getElementById("mySidenav").style.width = "100%";
  document.getElementById("myTop").style.zIndex = "0";
  }else if(!message){
  document.getElementById("mySidenav").style.width = "0";
  await sleep(500)
  document.getElementById("myTop").style.zIndex = "1";
  }
}
// load
function load(){
// nav buttons active
/// window.location.pathname
var url = "/shop"
var result = url.replace("/"," ");
try{
document.getElementById(result + "1").classList.add("active")
document.getElementById(result + "2").classList.add("active")
document.getElementById(result + "3").classList.add("active")
}catch(err){
  console.log("website path not found {1}!")
}
try{
document.getElementById("text").innerText = result.toUpperCase()
}catch(err){
  console.log("website path not found {2}!")
}
}
load()
// href home
function home(){
  location.href = "/home"
}
// products
window.addEventListener("load", load_data)
load_data()
  function load_data(){
fetch("https://asa-dev.tk/database/products.json")
  .then((response) => response.json())
  .then((data) => data.forEach(i => {
  let product_category = i.productCategory
  let product_id = i.productId
  let product_name = i.productName
  let product_description = i.productDescription
  let product_image = i.productImage
  let product_price = i.productPrice
  let card = document.createElement("div");
  if(product_category.length > 1){
    for(let i of product_category){
      card.classList.add("card-p", i);
    }
  }else{
      card.classList.add("card-p", product_category);
  }
  let imgContainer = document.createElement("div");
  imgContainer.classList.add("image-container");
  let image = document.createElement("img");
  image.setAttribute("src", product_image);
  imgContainer.appendChild(image);
  card.appendChild(imgContainer);
  let container = document.createElement("div");
  container.classList.add("container");
  let name = document.createElement("h5");
  name.classList.add("product-name-p");
  name.innerText = product_name.toUpperCase();
  container.appendChild(name);
  let price = document.createElement("h6");
  price.innerText = product_price + "€";
  let buyBTN = document.createElement("button");
  buyBTN.innerText = "buy";
  buyBTN.setAttribute("onclick", "buy(this)")
  buyBTN.setAttribute("id", product_id)
  buyBTN.setAttribute("data-name", product_id)
  buyBTN.setAttribute("onclick", "buy(this)")
  buyBTN.classList.add("buyBTN")
  container.appendChild(price);
  container.appendChild(buyBTN);
  card.appendChild(container);
  document.getElementById("products_main").appendChild(card)
  console.log("added product to product-list")
}))
fetch("https://asa-dev.tk/database/products.json")
  .then((response) => response.json())
  .then((data) => data.forEach(i => {
  let product_category = i.productCategory
  let product_id = i.productId
  let product_name = i.productName
  let product_description = i.productDescription
  let product_image = i.productImage
  let product_price = i.productPrice
  // main continer
let card = document.createElement("div");
  card.classList.add("preview")
  card.setAttribute("data-target", product_id)
let img = document.createElement("img");
  img.setAttribute("src", product_image)
let title = document.createElement("h2");
  title.innerText = product_name
let description = document.createElement("p");
  description.innerText = product_description
let price = document.createElement("h4");
  price.innerText = product_price + "€"
let buttons_div = document.createElement("div");
  buttons_div.classList.add("buttons")
let buy = document.createElement("button");
  buy.classList.add("buy")
  buy.innerText = "buy"
  buy.setAttribute("id", product_id)
  buy.setAttribute("data-name", product_id)
  buy.setAttribute("onclick", "product_buy(this)")
let cancle = document.createElement("button");
  cancle.classList.add("cancle")
  cancle.innerText = "cancle"
  cancle.setAttribute("data-name", product_id)
  cancle.setAttribute("onclick", "buy_close(this)")
  
//adding to card
  card.appendChild(img);
  card.appendChild(title);
  card.appendChild(description);
  card.appendChild(price);  
  buttons_div.appendChild(cancle);
  buttons_div.appendChild(buy);
  card.appendChild(buttons_div);
  document.getElementById("products-preview").appendChild(card);
  console.log("added product to backup-list")
 })
)
}
function filterProduct(value) {
  let buttons = document.querySelectorAll(".button-value");
  buttons.forEach((button) => {
    if (value.toUpperCase() == button.innerText.toUpperCase()) {
      button.classList.add("active_search");
    } else {
      button.classList.remove("active_search");
    }
  });
//select all cards
let elements = document.querySelectorAll(".card-p");
elements.forEach((element) => {
    if (value == "all") {
      element.classList.remove("hide");
    } else {
      if (element.classList.contains(value)) {
        element.classList.remove("hide");
      } else {
        element.classList.add("hide");
      }
    }
  });
}

//Search button click
document.getElementById("search").addEventListener("click", () => {
  let searchInput = document.getElementById("search-input").value;
  let elements = document.querySelectorAll(".product-name-p");
  let cards = document.querySelectorAll(".card-p");
elements.forEach((element, index) => {
    if (element.innerText.includes(searchInput.toUpperCase()) || element.innerText.indexOf(searchInput.toUpperCase()) == 0) {
      cards[index].classList.remove("hide");
    } else {
      cards[index].classList.add("hide");
    }
  });
});

//Initially display all products
window.onload = () => {
  filterProduct("all");
};
let product;
function data_product(value){
var product = data.products.filter (function (product_data) {
	return product_data.productId == value;
});
return product;
}
// buy to create product window
function buy(value){
  var product = value.getAttribute('data-name')
  var preview = document.querySelectorAll(".preview")
  var overlay = document.getElementById("overlay")
  preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(product == target){
        box.classList.add('product_buy');
        overlay.classList.add("product_overlay")
      }
    });
}
// close product window
function buy_close(value){
  var product = value.getAttribute('data-name')
  var preview = document.querySelectorAll(".preview")
  var overlay = document.getElementById("overlay")
  preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(product == target){
        box.classList.remove('product_buy');
        overlay.classList.remove("product_overlay")
      }
    });
  if(product == "buy"){
    document.getElementById("paypal-payment-button").innerHTML = ""
  }
  if(localStorage.getItem("shop_item") && localStorage.getItem("shop_item_claimed")){
    var at = new Date()
    location.href = localStorage.getItem("item")
    localStorage.setItem("shop_item_claimed", "claimed at " + at)
  }
}
// buy product window
async function product_buy(value){
var product = value.getAttribute('data-name')
var preview = document.querySelectorAll(".preview")
var overlay = document.getElementById("overlay")
var id = value.id
var get_data = data_product(id)
var overlay = document.getElementById("overlay")
for (const i of get_data) {
paypal.Buttons({
style : {
layout: 'vertical',
color: 'gold',
shape: 'pill',
label:  'paypal'
},
createOrder: function (data, actions) {
return actions.order.create({
purchase_units : [{
amount: {
value: i.productPrice,
currency: "EUR"
}
}]
});
},
onApprove: function (data, actions) {
return actions.order.capture().then(function (details) {
    preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(target == "buy"){
        box.classList.remove('product_buy');
        overlay.classList.remove("product_overlay")
      }
    });
    preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(target == "confirmed_buy"){
        box.classList.add('product_buy');
        overlay.classList.add("product_overlay")
      }
    });
localStorage.setItem("shop_item", i.productId)

})
},
onCancel: function (data) {
    preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(target == "buy"){
        box.classList.remove('product_buy');
        overlay.classList.remove("product_overlay")
      }
    });
    preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(target == "unconfirmed_buy"){
        box.classList.add('product_buy');
        overlay.classList.add("product_overlay")
      }
    });
  

}
}).render('#paypal-payment-button');
}
  preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(product == target){
        box.classList.remove('product_buy');
        overlay.classList.remove("product_overlay")
      }
    });
  preview.forEach(box =>{
      let target = box.getAttribute('data-target');
      if(target == "buy"){
        box.classList.add('product_buy');
        overlay.classList.add("product_overlay")
      }
    });

}

</script>
</body>
</html>
